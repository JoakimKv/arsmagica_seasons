{% extends "base.html" %}

{% block content %}

<div class="container mt-4">
  {% if work %}
  <h2>Edit Seasonal Work</h2>
  {% else %}
  <h2>New Seasonal Work</h2>
  {% endif %}
  <hr>

  <form method="post">
    {% csrf_token %}
    {{ form.non_field_errors }}

    <div class="mb-3">
      {{ form.name.label_tag }}
      {{ form.name }}
      {% for error in form.name.errors %}
      <div class="text-danger">{{ error }}</div>
      {% endfor %}
    </div>

    <div class="mb-3">
      {{ form.character_type.label_tag }}
      {{ form.character_type }}
      {% for error in form.character_type.errors %}
      <div class="text-danger">{{ error }}</div>
      {% endfor %}
    </div>

    <div class="mb-3">
      {{ form.year.label_tag }}
      {{ form.year }}
      {% for error in form.year.errors %}
      <div class="text-danger">{{ error }}</div>
      {% endfor %}
    </div>

    <div class="mb-3">
      {{ form.season.label_tag }}
      {{ form.season }}
      {% for error in form.season.errors %}
      <div class="text-danger">{{ error }}</div>
      {% endfor %}
    </div>

    <div class="mb-3">
      {{ form.summary.label_tag }}
      {{ form.summary }}
      {% for error in form.summary.errors %}
      <div class="text-danger">{{ error }}</div>
      {% endfor %}
    </div>

    <div class="mb-3">
      {{ form.description.label_tag }}
      {{ form.description }}
      {% for error in form.description.errors %}
      <div class="text-danger">{{ error }}</div>
      {% endfor %}
    </div>

    <button type="submit" class="btn-action cancel">
      {% if work %}Save Changes{% else %}Create{% endif %}
    </button>
    <a href="{% url 'index' %}" class="btn-action cancel">Cancel</a>
  </form>

  {% if work %}
  <p class="mt-3 text-muted">
  <h4>
    Created by: {{ work.user.username }} <br>
    Time created: {{ work.time_created|date:"Y-m-d H:i" }}
  </h4>
  </p>
  {% endif %}
</div>

{% endblock %}