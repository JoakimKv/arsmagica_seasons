{% extends "base/base_jinja2.html" %}

{% from "macros/formfield_renderer_jinja2.html" import render_field %}

{% block title %}

{% if work %}

<h2>Edit Seasonal Work</h2>

{% else %}

<h2>New Seasonal Work</h2>

{% endif %}

{% endblock %}

{% block content %}

<div class="container mt-4">

  {% if work %}

  <h2>Edit Seasonal Work</h2>

  {% else %}

  <h2>New Seasonal Work</h2>

  {% endif %}

  <hr>

  <form method="post">

    {{ csrf_input }}

    {{ form.non_field_errors() }}

    {{ render_field(form.name) }}

    {{ render_field(form.character_type) }}

    {{ render_field(form.year) }}

    {{ render_field(form.season) }}

    {{ render_field(form.summary) }}

    {{ render_field(form.description) }}

    <div class="mb-3">

      <button type="submit" class="btn-action cancel">

        {% if work %}Save Changes{% else %}Create{% endif %}

      </button>

    </div>

    <div class="mb-3">

      <a href="{{ url('index') }}" class="btn-action cancel">Cancel</a>

    </div>

  </form>

  {% if work %}

  <div class="mt-3 text-muted">

    <h4>
      Created by: {{ work.user.username }}<br>
      Time created: {{ work.time_created }}
    </h4>

  </div>

  {% endif %}

</div>

{% endblock %}